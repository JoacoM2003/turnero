{% extends 'base.html' %}

{% block content %}
<!-- Hero Section con gradiente animado -->
<section class="position-relative overflow-hidden" style="min-height: 90vh;">
    <!-- Fondo con gradiente animado -->
    <div class="position-absolute top-0 start-0 w-100 h-100" style="
        background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
        background-size: 200% 200%;
        animation: gradientShift 15s ease infinite;
    "></div>
    
    <!-- Overlay -->
    <div class="position-absolute top-0 start-0 w-100 h-100" style="background: rgba(0, 0, 0, 0.3);"></div>
    
    <!-- Contenido -->
    <div class="container position-relative h-100 d-flex align-items-center" style="min-height: 90vh;">
        <div class="row w-100 align-items-center">
            <div class="col-lg-6" data-aos="fade-right">
                <h1 class="display-2 fw-bold text-white mb-4" style="text-shadow: 2px 2px 20px rgba(0,0,0,0.3);">
                    Reservá tu cancha en segundos
                </h1>
                <p class="lead text-white mb-5" style="font-size: 1.3rem; text-shadow: 1px 1px 10px rgba(0,0,0,0.3);">
                    La forma más fácil y rápida de gestionar tus turnos deportivos. 
                    Sin complicaciones, sin llamadas, todo online.
                </p>
                <div class="d-flex gap-3 flex-wrap">
                    {% if user.is_authenticated %}
                        <a href="{% url 'canchas' %}" class="btn btn-modern btn-gradient-green btn-lg">
                            <i class="bi bi-calendar-plus"></i> Reservar Turno
                        </a>
                        <a href="{% url 'mis_turnos' %}" class="btn btn-modern" style="background: rgba(255,255,255,0.2); color: white; backdrop-filter: blur(10px);">
                            <i class="bi bi-calendar-check"></i> Mis Reservas
                        </a>
                    {% else %}
                        <a href="{% url 'signup' %}" class="btn btn-modern btn-gradient-green btn-lg">
                            <i class="bi bi-person-plus"></i> Registrate Gratis
                        </a>
                        <a href="{% url 'signin' %}" class="btn btn-modern" style="background: rgba(255,255,255,0.2); color: white; backdrop-filter: blur(10px);">
                            <i class="bi bi-box-arrow-in-right"></i> Iniciar Sesión
                        </a>
                    {% endif %}
                </div>
            </div>
            
            <div class="col-lg-6 d-none d-lg-block" data-aos="fade-left" data-aos-delay="200">
                <div class="position-relative">
                    <img src="https://images.unsplash.com/photo-1579952363873-27f3bade9f55?w=800&q=80" 
                         alt="Fútbol" 
                         class="img-fluid rounded-4 shadow-lg"
                         style="border: 5px solid rgba(255,255,255,0.3);">
                </div>
            </div>
        </div>
    </div>
    
    <!-- Indicador scroll -->
    <div class="position-absolute bottom-0 start-50 translate-middle-x mb-4" style="animation: bounce 2s infinite;">
        <i class="bi bi-chevron-down text-white fs-1"></i>
    </div>
</section>

<!-- Estadísticas rápidas para usuarios autenticados -->
{% if user.is_authenticated %}
<section class="py-5 bg-light">
    <div class="container">
        <div class="row g-4">
            <div class="col-md-4" data-aos="fade-up">
                <div class="card-modern text-center p-4">
                    <div class="display-4 mb-3" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                        <i class="bi bi-calendar-check-fill"></i>
                    </div>
                    <h3 class="fw-bold">{{ total_reservas|default:0 }}</h3>
                    <p class="text-muted mb-0">Reservas Realizadas</p>
                </div>
            </div>
            <div class="col-md-4" data-aos="fade-up" data-aos-delay="100">
                <div class="card-modern text-center p-4">
                    <div class="display-4 mb-3" style="background: linear-gradient(135deg, #0ba360 0%, #3cba92 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                        <i class="bi bi-clock-fill"></i>
                    </div>
                    <h3 class="fw-bold">{{ proximos_turnos|length }}</h3>
                    <p class="text-muted mb-0">Próximos Turnos</p>
                </div>
            </div>
            <div class="col-md-4" data-aos="fade-up" data-aos-delay="200">
                <div class="card-modern text-center p-4">
                    <div class="display-4 mb-3" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                        <i class="bi bi-trophy-fill"></i>
                    </div>
                    <h3 class="fw-bold">Top Player</h3>
                    <p class="text-muted mb-0">{{ user.first_name|default:user.username }}</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Próximos turnos -->
{% if proximos_turnos %}
<section class="py-5">
    <div class="container">
        <h2 class="text-center mb-5 fw-bold" data-aos="fade-up">
            <i class="bi bi-calendar-event"></i> Tus Próximos Turnos
        </h2>
        <div class="row g-4">
            {% for turno in proximos_turnos %}
            <div class="col-md-4" data-aos="fade-up" data-aos-delay="{{ forloop.counter0|add:100 }}">
                <div class="card-modern p-4">
                    <div class="d-flex align-items-center mb-3">
                        <div class="rounded-circle p-3 me-3" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                            <i class="bi bi-geo-alt-fill text-white fs-4"></i>
                        </div>
                        <div>
                            <h5 class="fw-bold mb-0">{{ turno.cancha.nombre }}</h5>
                            <small class="text-muted">{{ turno.cancha.direccion }}</small>
                        </div>
                    </div>
                    <hr>
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <span class="text-muted"><i class="bi bi-calendar3"></i> Fecha:</span>
                        <span class="fw-bold">{{ turno.fecha|date:"d/m/Y" }}</span>
                    </div>
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <span class="text-muted"><i class="bi bi-clock"></i> Horario:</span>
                        <span class="fw-bold">{{ turno.horario }}</span>
                    </div>
                    <a href="{% url 'detalle_cancha' turno.cancha.id %}?fecha={{ turno.fecha }}" class="btn btn-modern btn-gradient w-100">
                        Ver Detalles
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>
        <div class="text-center mt-4">
            <a href="{% url 'mis_turnos' %}" class="btn btn-modern btn-gradient-green">
                Ver Todos Mis Turnos <i class="bi bi-arrow-right"></i>
            </a>
        </div>
    </div>
</section>
{% endif %}
{% endif %}

<!-- Panel de administración (solo superusuarios) -->
{% if user.is_superuser %}
<section class="py-5 bg-light">
    <div class="container">
        <h2 class="text-center mb-5 fw-bold" data-aos="fade-up">
            <i class="bi bi-gear-fill"></i> Panel de Administración
        </h2>
        <div class="row g-4">
            <div class="col-md-6" data-aos="fade-up">
                <div class="card-modern p-4 h-100">
                    <div class="display-4 mb-3" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                        <i class="bi bi-plus-circle-fill"></i>
                    </div>
                    <h4 class="fw-bold mb-3">Agregar Nueva Cancha</h4>
                    <p class="text-muted mb-4">
                        Expandí tu negocio agregando nuevas canchas al sistema. 
                        Gestioná todo desde un solo lugar.
                    </p>
                    <a href="{% url 'agregar_cancha' %}" class="btn btn-modern btn-gradient">
                        <i class="bi bi-plus-lg"></i> Agregar Cancha
                    </a>
                </div>
            </div>
            <div class="col-md-6" data-aos="fade-up" data-aos-delay="100">
                <div class="card-modern p-4 h-100">
                    <div class="display-4 mb-3" style="background: linear-gradient(135deg, #0ba360 0%, #3cba92 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                        <i class="bi bi-grid-3x3-gap-fill"></i>
                    </div>
                    <h4 class="fw-bold mb-3">Gestionar Canchas</h4>
                    <p class="text-muted mb-4">
                        Visualizá, editá y gestioná todas las canchas disponibles. 
                        Control total de tu complejo deportivo.
                    </p>
                    <a href="{% url 'canchas' %}" class="btn btn-modern btn-gradient-green">
                        <i class="bi bi-grid"></i> Ver Canchas
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>
{% endif %}

<!-- Características -->
<section class="py-5">
    <div class="container">
        <h2 class="text-center mb-5 fw-bold" data-aos="fade-up">
            ¿Por qué elegirnos?
        </h2>
        <div class="row g-4">
            <div class="col-md-4" data-aos="fade-up">
                <div class="card-modern p-4 text-center h-100">
                    <div class="display-4 mb-3" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                        <i class="bi bi-lightning-charge-fill"></i>
                    </div>
                    <h4 class="fw-bold mb-3">Reserva Instantánea</h4>
                    <p class="text-muted">
                        Reservá tu turno en menos de 30 segundos. Sin llamadas, sin esperas.
                    </p>
                </div>
            </div>
            <div class="col-md-4" data-aos="fade-up" data-aos-delay="100">
                <div class="card-modern p-4 text-center h-100">
                    <div class="display-4 mb-3" style="background: linear-gradient(135deg, #0ba360 0%, #3cba92 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                        <i class="bi bi-calendar-check-fill"></i>
                    </div>
                    <h4 class="fw-bold mb-3">Gestión Fácil</h4>
                    <p class="text-muted">
                        Visualizá y gestioná todas tus reservas desde un solo lugar.
                    </p>
                </div>
            </div>
            <div class="col-md-4" data-aos="fade-up" data-aos-delay="200">
                <div class="card-modern p-4 text-center h-100">
                    <div class="display-4 mb-3" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                        <i class="bi bi-shield-check-fill"></i>
                    </div>
                    <h4 class="fw-bold mb-3">100% Seguro</h4>
                    <p class="text-muted">
                        Tus datos están protegidos con los más altos estándares de seguridad.
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Final -->
{% if not user.is_authenticated %}
<section class="py-5" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
    <div class="container text-center text-white" data-aos="fade-up">
        <h2 class="display-4 fw-bold mb-4">¿Listo para empezar?</h2>
        <p class="lead mb-4">Unite a miles de jugadores que ya reservan sus canchas con nosotros</p>
        <a href="{% url 'signup' %}" class="btn btn-modern btn-lg" style="background: white; color: #667eea;">
            <i class="bi bi-person-plus"></i> Crear Cuenta Gratis
        </a>
    </div>
</section>
{% endif %}

<style>
    @keyframes gradientShift {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }

    @keyframes bounce {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-20px); }
    }
</style>
{% endblock %}